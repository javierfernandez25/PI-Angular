<main class="main-container">

  <header class="header">
    <div class="logo">
      <h1>ğŸ“Š Mis Encuestas</h1>
    </div>
  </header>

  @if (listaDatos.length === 0) {
  <div class="empty-state">
    <p>No hay encuestas disponibles.</p>
    <a routerLink="/crear-encuesta" class="btn-link">Â¡Crea tu primera encuesta!</a>
  </div>
  }

  <section class="cards-grid">
    @for (item of listaDatos; track item._id) {

    <article class="card">
      <div class="card-header">
        <span class="card-id">ID: {{ item._id | slice:0:6 }}...</span>
        <h3>{{ item.titulo }}</h3>
      </div>

      <div class="card-body">
        <p class="desc">{{ item.descripcion || 'Sin descripciÃ³n' }}</p>
        <small class="date">ğŸ“… {{ item.fecha_creacion | date:'dd/MM/yyyy' }}</small>
      </div>

      <div class="card-footer">
        <a [routerLink]="['/responder-encuesta', item._id]" class="btn-icon btn-respond" title="Responder Encuesta">
          ğŸ“ Responder
        </a>
        <a [routerLink]="['/ver-respuestas', item._id]" class="btn-icon btn-results" title="Ver Resultados">
          ğŸ“Š Resultados
        </a>
        <a [routerLink]="['/encuesta', item._id]" class="btn-icon btn-view" title="Ver Detalles">
          ğŸ‘ï¸ Ver
        </a>

        <a [routerLink]="['/editar-encuesta', item._id]" class="btn-icon btn-edit" title="Editar">
          âœï¸ Editar
        </a>

        <button (click)="borrarEncuesta(item._id)" class="btn-icon btn-delete" title="Borrar">
          ğŸ—‘ï¸ Borrar
        </button>
      </div>
    </article>

    }
  </section>

</main>